---
import toggleIcon from '../assets/darkmode-toggle-icon.svg?raw';
---

<script>
    const toggleClick = () => {
        return () => {
            const element = document.documentElement;
            element.classList.toggle('light');

            const isLight = element.classList.contains('light');

            localStorage.setItem('theme', isLight ? 'light' : 'dark');
        };
    };

    document.getElementById('theme-toggle')?.addEventListener("click", toggleClick());
</script>

<button id="theme-toggle" aria-label="Toggle Dark-mode">
    <span id="icon" set:html={toggleIcon}></span>
</button>

<style>
    button {
        background: none;
        border: none;
        cursor: pointer;
    }

    .icon :global(svg){
        fill: var(--text);
    }
</style>
