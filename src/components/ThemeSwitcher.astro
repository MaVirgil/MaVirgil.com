---
import { Icon } from 'astro-icon/components'
---

<script>
    const toggleClick = () => {
        return () => {
            const element = document.documentElement;
            element.classList.toggle('light');

            const isLight = element.classList.contains('light');

            localStorage.setItem('theme', isLight ? 'light' : 'dark');
        };
    };

    document.getElementById('theme-toggle')?.addEventListener("click", toggleClick());
</script>

<button id="theme-toggle" aria-label="Toggle Dark-mode">
    <Icon name="darkmode-toggle-icon" />
</button>

<style>

    #theme-toggle {
        position: sticky;
        top: var(--gap-medium);
        left: 95%;

    }

    button {
        padding: 0;
        background: none;
        border: none;
        cursor: pointer;
    }

    [data-icon="darkmode-toggle-icon"] {
        font-size: 3em;
        color: var(--text);
    }

    [data-icon="darkmode-toggle-icon"]:hover {
        color: var(--primary);
        animation: icon-anim 150ms 1 forwards;
    }

    @keyframes icon-anim {
        0% {
            transform: scale(1);
        }
        100% {
            transform: scale(1.1);
        }
    }

</style>
